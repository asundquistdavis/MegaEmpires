
<style>
    :root {
        --land: #dddc9b;
        --water: lightblue;
        --coastal: azure;
        --hovered: black;
        --border: #d8cbaf;
        --selected: black;
    }
    html, body {
        width: 100vw;
        height: 100vh;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: bisque;
        user-select: none;
    }
    path {
        transform-origin: 50%, 50%;
        stroke: var(--border);
        stroke-width: 1px;
        --name: attr('name');
    }
    text {
        --name: attr('name');
    }
    path[type='land'] {
        fill: var(--land);
    }
    path[type='cover'] {
        pointer-events: none;
        fill: var(--land);
    }
    path[type='water'] {
        fill: var(--water);
    }
    path[type='coastal'] {
        fill: var(--coastal);
    }
    text {
        pointer-events: none;
        text-anchor: middle;
        fill: black;
        font-size: xx-small;
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    }
    path[selected] {
        fill: var(--selected);
        opacity: .25;
        pointer-events: none;
    }
    path[hovered] {
        fill: var(--hovered);
        opacity: .3;
        pointer-events: none;
    }
</style>

<svg
width="1600" 
height="552" 
id="mapSVG" 
transform="translate(0 0) scale(1 1)"
onmousewheel="handleScroll(event)"
onmousedown="handleMouseDown(event)"
onmousemove="handleMouseMove(event)"
onmouseup="handleMouseUp(event)"
onmouseleave="handleMouseLeaveMap(event)"
>
    <path
    name="northern atlantic ocean"
    type="water"
    d="M0 0 180 0 173 21 123 40 100 28 42 51 47 98 12 125 0 125"></path>
    <path
    name="caledonia"
    type="coastal"
    d="M123 40 149 99 133 103 124 105 109 109 91 115 74 98 47 98 42 51 100 28Z"></path>
    <path
    name="caledonia"
    type="cover"
    d="M109 109 97 109 89 102 93 98 88 93 92 91 79 89 83 79 70 78 80 75 68 70 67 65 77 70 77 61 83 47 103 48 105 51 94 58 95 65 108 62 122 64 115 79 106 82 110 86 102 87 103 89 118 89 130 97 133 103 124 105 109 109"></path>
    <path
    name="hibernia"
    type="coastal"
    d="M12 125 41 161 84 157 97 143 95 129 91 115 74 98 47 98"></path>
    <path
    name="hibernia"
    type="cover"
    d="M54 154 41 149 36 140 43 138 43 134 31 135 29 127 33 127 32 124 29 125 28 118 35 118 37 121 45 119 44 116 50 113 43 112 45 105 54 102 73 103 85 115 80 121 72 123 84 138 81 151 54 154"></path>
    <path
    name="britannia"
    type="coastal"
    d="M124 105 109 109 91 115 95 129 104 126 140 152 146 148 145 137 137 128 135 121 128 114"></path>
    <path
    name="britannia"
    type="cover"
    d="M109 109 113 117 120 118 117 124 118 128 123 131 112 132 140 152 146 148 145 137 137 128 135 121 128 114 124 105 109 109"></path>
    <path
    name="londinium"
    type="coastal"
    d="M124 105 128 114 135 121 137 128 145 137 146 148 140 152 126 165 101 166 84 183 94 204 165 183 191 162 191 138 168 118 149 99 133 103"></path>
    <path
    name="londinium"
    type="cover"
    d="M124 105 133 103 141 112 151 116 158 126 159 138 171 137 181 142 181 153 173 156 168 161 182 163 170 172 149 171 140 174 142 177 123 176 122 185 114 181 103 187 95 186 94 184 100 183 108 177 107 173 112 169 129 168 138 158 140 152 146 148 145 137 137 128 135 121 128 114 124 105"></path>
    <path
    type="coastal"
    name="dyfed"
    d="M112 132 104 126 95 129 97 143 84 157 41 161 64 173 84 183 101 166 126 165 140 152 112 132"></path>
    <path
    name="dyfed"
    type="cover"
    d="M112 132 104 133 103 138 111 147 97 156 101 161 106 159 109 161 116 161 118 163 126 162 132 156 140 152 112 132"></path>
    <path
    name="north sea"
    type="water"
    d="M123 40 149 99 168 118 191 138 205 138 217 121 245 113 230 71 198 53 173 21"></path>
    <path
    name="ultima thule"
    type="coastal"
    d="M180 1 325 0 353 35 366 71 305 98 301 96 291 78 270 59 260 58 230 71 198 52 173 22 180 1"></path>
    <path
    name="ultima thule"
    type="cover"
    d="M315 0 321 10 333 16 336 27 317 27 320 31 338 30 339 35 333 34 326 39 326 51 332 57 328 61 329 68 327 77 317 78 312 82 315 90 305 91 295 73 283 64 278 60 277 50 272 49 255 28 253 42 246 44 243 51 234 56 222 56 206 45 211 42 207 29 208 21 203 26 197 24 194 14 193 5 191 1 315 0"></path>
    <path
    name="germania magna"
    type="coastal"
    d="M366 71 368 85 370 116 363 134 347 184 298 190 289 168 276 139 260 125 245 113 230 71 260 58 270 59 291 78 301 96 305 98 366 71"></path>
    <path
    name="germania magna"
    type="cover"
    d="M260 125 265 118 256 106 252 94 245 93 243 80 251 76 256 80 253 74 263 72 272 78 272 84 269 83 264 92 266 104 271 106 285 110 287 114 305 104 320 102 325 106 333 107 333 100 340 97 345 90 361 80 368 85 370 116 363 134 347 184 298 190 289 168 276 139 260 125"></path>
    <path
    name="germania inferior"
    type="coastal"
    d="M289 168 270 175 259 173 253 165 249 156 242 152 221 155 213 147 205 138 217 121 245 113 260 125 276 139 289 168"></path>
    <path
    name="germania inferior"
    type="cover"
    d="M260 125 255 126 250 123 242 127 245 133 237 129 230 128 226 132 224 140 219 140 217 137 215 137 213 147 221 155 242 152 249 156 253 165 259 173 270 175 289 168 276 139 260 125"></path>
    <path
    name="belgica"
    type="coastal"
    d="M259 173 253 165 249 156 242 152 221 155 213 147 205 138 191 138 191 162 165 183 176 187 211 204 226 198 235 191 247 187 259 173"></path>
    <path
    name="belgica"
    type="cover"
    d="M259 173 253 165 249 156 242 152 221 155 213 147 214 159 206 161 201 164 191 168 188 173 190 182 186 183 185 186 176 187 211 204 226 198 235 191 247 187 259 173"></path>
    <path
    name="lugdunensis"
    type="coastal"
    d="M165 183 176 187 211 204 211 221 151 242 142 245 122 234 103 226 94 204 165 183"></path>
    <path
    name="lugdunensis"
    type="cover"
    d="M211 204 176 187 172 191 173 196 168 198 155 196 153 192 147 197 151 201 153 210 137 211 129 206 107 213 114 215 114 224 123 223 139 227 143 231 148 235 151 242 211 221 211 204"></path>
    <path
    name="aquintania"
    type="coastal"
    d="M142 245 160 274 172 276 208 281 234 277 245 262 242 245 211 221 151 242 142 245"></path>
    <path
    name="aquintania"
    type="cover"
    d="M151 242 168 246 170 256 181 268 170 261 172 276 208 281 234 277 245 262 242 245 211 221 151 242"></path>
    <path
    name="caesaraugustanus"
    type="coastal"
    d="M208 281 209 317 193 325 154 328 147 299 144 286 160 274 172 276 208 281"></path>
    <path
    name="caesaraugustanus"
    type="cover"
    d="M172 276 170 294 168 299 151 297 147 299 154 328 193 325 208 317 208 281 172 276"></path>
    <path
    name="alesia"
    type="land"
    d="M242 245 260 237 247 187 235 191 226 198 211 204 211 221 242 245"></path>
    <path
    name="upper rhine"
    type="land"
    d="M280 226 299 223 306 214 298 190 289 168 270 175 279 195 280 226"></path>
    <path
    name="germania"
    type="land"
    d="M260 237 280 237 280 226 279 195 270 175 259 173 247 187 260 237"></path>
    <path
    name="lugdunum"
    type="land"
    d="M245 262 275 273 297 260 296 251 280 237 260 237 242 245 245 262"></path>
    <text name="lugdunum" x="270" y="255">Lugdunum</text>
    <path
    name="narbo"
    type="coastal"
    d="M209 317 233 329 243 334 260 302 248 291 234 277 208 281 209 317"></path>
    <path
    name="narbo"
    type="cover"
    d="M233 329 237 322 247 317 245 311 248 307 243 304 242 294 248 291 234 277 208 281 209 317 233 329"></path>
    <path
    name="aquae sextiae"
    type="coastal"
    d="M260 302 278 297 277 289 275 273 245 262 234 277 248 291 260 302"></path>
    <path
    name="aquae sextiae"
    type="cover"
    d="M248 291 253 286 263 287 277 289 275 273 245 262 234 277 248 291"></path>
    <path
    name="massillia"
    type="coastal"
    d="M278 297 312 292 320 269 311 266 297 260 275 273 277 289 278 297"></path>
    <path
    name="massillia"
    type="cover"
    d="M277 289 281 291 292 287 293 283 300 275 308 273 311 266 297 260 275 273 277 289"></path>
    <path
    name="bay of biscay"
    type="water"
    d="M144 286 160 274 142 245 122 234 103 226 94 204 84 183 64 173 38 235 37 246 53 287 74 280 144 286"></path>
    <path
    name="eastern atlantic ocean"
    type="water"
    d="M1 125 12 125 41 161 64 173 38 235 37 246 53 287 31 299 43 353 36 414 79 449 71 482 46 504 38 552 1 552 1 126"></path>
    <path
    name="cluniensis"
    type="coastal"
    d="M154 328 149 340 101 348 80 295 74 280 144 286 147 299 154 328"></path>
    <path
    name="cluniensis"
    type="cover"
    d="M147 299 80 295 101 348 149 340 154 328 147 299"></path>
    <path
    name="gallaecia"
    type="coastal"
    d="M101 348 79 351 55 353 43 353 31 299 53 287 74 280 80 295 101 348"></path>
    <path
    name="gallaecia"
    type="cover"
    d="M101 348 80 295 72 293 62 294 58 298 47 301 40 306 47 315 50 327 55 353 79 351 101 348"></path>
    <text name="gallaecia" x="62" y="322">Gallaecia</text>
    <path
    name="lusitania"
    type="coastal"
    d="M79 351 97 402 104 420 109 434 79 449 36 414 43 353 55 353 79 351"></path>
    <path
    name="lusitania"
    type="cover"
    d="M104 420 92 417 85 423 78 426 75 422 58 422 62 409 59 404 59 396 51 394 45 386 54 366 55 353 79 351 97 402 104 420"></path>
    <path
    name="corduba"
    type="coastal"
    d="M97 402 162 370 174 370 201 396 205 400 190 421 146 430 109 434 104 420 97 402"></path>
    <path
    name="corduba"
    type="cover"
    d="M104 420 110 421 113 428 124 429 130 422 139 420 144 416 183 413 188 400 193 397 201 396 174 370 162 370 97 402 104 420"></path>
    <path
    name="carthago nova"
    type="coastal"
    d="M205 400 227 374 223 366 223 359 209 351 195 343 174 370 201 396 205 400"></path>
    <path
    name="carthago nova"
    type="cover"
    d="M201 396 202 388 213 376 213 372 210 372 204 367 203 362 209 351 195 343 174 370 201 396"></path>
    <path
    name="emeritensis"
    type="land"
    d="M97 402 162 370 149 340 101 348 79 351"></path>
    <path
    name="carthaginensis"
    type="land"
    d="M174 370 195 343 193 325 154 328 149 340 162 370 174 370"></path>
    <path
    name="iberus"
    type="coastal"
    d="M223 359 239 344 246 340 243 334 233 329 209 317 193 325 195 343 209 351 223 359"></path>
    <path
    name="iberus"
    type="cover"
    d="M209 351 213 346 213 342 216 342 216 337 218 333 221 333 222 331 233 329 209 317 193 325 195 343 209 351"></path>
    <path
    name="ebusus"
    type="coastal"
    d="M227 374 242 373 259 368 246 360 240 349 239 344 223 359 223 366 227 374"></path>
    <path
    name="ebusus"
    type="cover"
    d="M232 369 239 369 242 366 241 361 235 360 230 363 232 369M234 356 237 356 239 355 239 351 236 350 233 352 232 354 234 356"></path>
    <path
    name="baleares"
    type="coastal"
    d="M259 368 283 353 283 347 276 334 271 334 246 340 239 344 240 349 246 360 259 368"></path>
    <path
    name="baleares"
    type="cover"
    d="M257 359 261 357 263 352 260 352 257 349 251 352 247 356 249 357 257 359M267 345 267 348 273 350 275 349 275 346 273 344 271 344 267 345"></path>
    <path
    name="western mediterranean"
    type="water"
    d="M190 421 193 426 198 429 242 402 288 386 334 377 359 372 396 364 401 351 404 347 424 342 446 336 446 331 441 325 417 318 387 309 356 296 350 295 347 299 346 307 358 318 361 323 361 331 365 355 351 361 337 363 324 337 316 315 315 298 312 292 278 297 260 302 243 334 246 340 271 334 276 334 283 347 283 353 259 368 242 373 227 374 205 400 190 421"></path>
    <path
    name="western getules"
    type="coastal"
    d="M38 552 51 552 187 552 194 512 151 501 89 487 71 482 46 504 38 552"></path>
    <path
    name="western getules"
    type="cover"
    d="M194 512 151 501 89 487 70 495 62 508 57 509 56 521 50 529 51 552 187 552"></path>
    <path
    name="western mauretania"
    type="coastal"
    d="M151 501 148 477 151 470 147 461 147 446 146 430 109 434 79 449 71 482 89 487 151 501"></path>
    <path
    name="western mauretania"
    type="cover"
    d="M89 487 102 479 107 453 112 451 118 437 128 436 136 445 147 446 147 461 151 470 148 477 151 501 89 487"></path>
    <path
    name="central mauretania"
    type="coastal"
    d="M194 512 216 494 201 439 198 429 193 426 190 421 146 430 147 446 147 461 151 470 148 477 151 501 194 512"></path>
    <path
    name="central mauretania"
    type="cover"
    d="M201 439 190 444 147 446 147 461 151 470 148 477 151 501 194 512 216 494 201 439"></path>
    <path
    type="coastal"
    name="eastern mauretania"
    d="M216 494 262 471 244 410 242 402 198 429 201 439 216 494"></path>
    <path
    type="cover"
    name="eastern mauretania"
    d="M244 410 235 412 231 417 223 421 221 426 213 426 211 430 203 433 201 439 216 494 262 471 244 410"></path>
    <path
    name="new africa"
    type="coastal"
    d="M262 471 282 465 289 466 307 460 298 429 298 416 295 412 291 397 288 386 242 402 244 410 262 471"></path>
    <path
    name="new africa"
    type="cover"
    d="M291 397 278 398 275 401 266 402 262 407 244 410 262 471 282 465 289 466 307 460 298 429 298 416 295 412 291 397"></path>
    <path
    name=""
    type=""
    d=""></path>
    <path
    name=""
    type=""
    d=""></path>
    <text name="new africa" x="275" y="434">New Africa</text>
    <path
    name="citra"
    type="coastal"
    d="M307 460 327 469 345 425 336 386 334 377 288 386 291 397 295 412 298 416 298 429 307 460"></path>
    <path
    name="citra"
    type="cover"
    d="M307 460 327 469 345 425 336 386 332 386 332 389 326 390 318 388 316 393 306 396 306 399 299 399 298 397 291 397 295 412 298 416 298 429 307 460"></path>
    <path
    name="numidia"
    type="coastal"
    d="M345 425 378 421 375 411 363 380 359 372 334 377 336 386 345 425"></path>
    <path
    name="numidia"
    type="cover"
    d="M336 386 344 387 348 384 352 385 358 381 363 380 375 411 378 421 345 425 336 386"></path>
    <path
    name="carthage"
    type="coastal"
    d="M375 411 392 402 409 394 410 379 396 364 359 372 363 380 375 411"></path>
    <path
    name="carthage"
    type="cover"
    d="M392 402 393 398 389 397 388 393 394 387 396 382 393 378 389 378 389 382 384 386 381 383 380 378 374 376 363 380 375 411 392 402"></path>
    <path
    name="thapsus"
    type="coastal"
    d="M409 394 423 428 421 435 391 434 383 435 378 421 375 411 392 402 409 394"></path>
    <path
    name="thapsus"
    type="cover"
    d="M391 434 391 431 405 421 405 413 403 410 399 405 392 402 375 411 378 421 383 435 391 434"></path>
    <path
    name="tunisia"
    type="land"
    d="M383 435 395 469 347 478 327 469 345 425 378 421 383 435"></path>
    <path
    name="eastern getules"
    type="land"
    d="M347 478 343 498 343 515 340 524 337 552 187 552 194 512 216 494 262 471 282 465 289 466 307 460 327 469 347 478"></path>
    <path
    name="sahara"
    type="land"
    d="M337 552 463 552 459 502 395 469 347 478 343 498 343 515 340 524 337 552"></path>
    <path
    name="sabrata"
    type="coastal"
    d="M383 435 391 434 421 435 435 446 477 480 459 502 395 469 383 435 391 434"></path>
    <path
    name="sabrata"
    type="cover"
    d="M435 446 428 446 425 444 415 444 412 441 408 440 403 442 399 439 396 439 391 434 383 435 395 469 459 502 477 480 435 446"></path>
    <path
    name="caralis"
    type="coastal"
    d="M351 361 365 355 361 331 353 332 333 335 324 337 337 363 351 361"></path>
    <path
    name="caralis"
    type="cover"
    d="M353 332 356 347 355 349 349 349 349 354 343 355 341 356 340 352 337 352 336 349 335 347 335 342 336 340 333 338 333 335 353 332"></path>
    <path
    name="sardinia"
    type="coastal"
    d="M316 315 323 315 332 313 346 307 358 318 361 323 361 331 353 332 333 335 324 337 316 315"></path>
    <path
    name="sardinia"
    type="cover"
    d="M333 335 331 330 327 328 325 322 333 322 335 320 335 316 339 314 343 315 352 324 352 329 353 332 333 335"></path>
    <path
    name="corsica"
    type="coastal"
    d="M350 295 340 277 332 272 320 269 312 292 315 298 316 315 323 315 332 313 346 307 347 299 350 295"></path>
    <path
    name="corsica"
    type="cover"
    d="M338 308 338 301 340 297 338 293 336 289 336 283 334 281 332 282 333 288 329 288 328 290 325 290 323 293 325 299 326 303 330 305 330 308 333 310 338 308"></path>
    <path
    name="etruria"
    type="coastal"
    d="M320 269 332 272 340 277 343 275 351 266 351 256 349 252 348 230 315 237 302 244 296 251 297 260 311 266 320 269"></path>
    <path
    name="etruria"
    type="cover"
    d="M343 275 342 271 336 266 325 265 322 262 313 262 311 266 297 260 296 251 302 244 315 237 348 230 349 252 351 256 351 266 343 275"></path>
    <path
    name="cisalpina"
    type="land"
    d="M296 251 302 244 315 237 348 230 364 224 362 216 306 214 299 223 280 226 280 237 296 251"></path>
    <path
    name="noricum"
    type="land"
    d="M362 216 373 190 347 184 298 190 306 214 362 216"></path>
    <path
    name="rubicon"
    type="coastal"
    d="M364 224 366 229 375 247 381 258 400 269 396 275 392 282 351 266 351 256 349 252 348 230 364 224"></path>
    <path
    name="rubicon"
    type="cover"
    d="M396 275 387 264 382 263 375 259 370 259 367 257 361 251 362 246 356 238 357 233 364 232 366 229 364 224 348 230 349 252 351 256 351 266 392 282 396 275"></path>
    <path
    name="rome"
    type="coastal"
    d="M392 282 398 285 390 303 387 309 356 296 350 295 340 277 343 275 351 266 392 282"></path>
    <path
    name="rome"
    type="cover"
    d="M390 303 386 302 382 299 378 299 377 296 371 295 367 291 360 291 359 288 355 286 352 286 351 283 348 283 348 284 346 283 347 280 343 275 351 266 392 282 398 285 390 303"></path>
    <path
    name="northern wastes"
    type="coastal"
    d="M325 0 342 0 619 0 604 40 525 28 425 32 383 33 353 35 325 0"></path>
    <path
    name="northern wastes"
    type="cover"
    d="M342 0 345 6 347 8 347 13 351 18 354 19 365 20 370 24 384 20 386 15 389 15 391 13 397 13 402 8 406 8 415 4 435 6 438 9 428 9 427 12 421 15 421 20 399 22 396 25 387 27 383 33 425 32 525 28 604 40 619 0 342 0"></path>
    <path
    name="lugia"
    type="coastal"
    d="M363 134 422 134 465 98 425 32 383 33 353 35 366 71 368 85 370 116 363 134"></path>
    <path
    name="lugia"
    type="cover"
    d="M383 33 388 42 395 43 396 41 399 42 399 48 404 58 401 62 395 62 391 58 387 58 384 55 380 55 376 63 378 67 376 70 379 80 375 85 368 85 370 116 363 134 422 134 465 98 425 32 383 33"></path>
    <path
    name="western sarmatia"
    type="land"
    d="M465 98 501 110 541 86 525 28 425 32 465 98"></path>
    <path
    name="eastern sarmatia"
    type="land"
    d="M541 86 591 101 618 90 604 40 525 28 541 86"></path>
    <path
    name="sudeten"
    type="land"
    d="M422 134 446 164 489 159 511 132 501 110 465 98 422 134"></path>
    <path
    name="upper danube"
    type="land"
    d="M373 190 423 188 442 216 458 211 446 164 422 134 363 134 347 184 373 190"></path>
    <path
    name="dacia"
    type="land"
    d="M458 211 475 222 492 217 491 212 495 207 496 201 504 189 509 171 489 159 446 164 458 211"></path>
    <path
    name="scythia"
    type="coastal"
    d="M489 159 509 171 557 158 564 158 583 164 590 153 598 140 598 136 595 131 591 101 541 86 501 110 511 132 489 159"></path>
    <path
    name="scythia"
    type="cover"
    d="M564 158 571 153 574 152 575 154 573 156 575 158 582 158 587 153 590 153 598 140 598 136 595 131 591 101 541 86 501 110 511 132 489 159 509 171 557 158 564 158"></path>
    <path
    name="gethae"
    type="coastal"
    d="M492 217 523 211 533 220 546 204 546 184 565 183 575 182 586 172 583 164 564 158 557 158 509 171 504 189 496 201 495 207 491 212 492 217"></path>
    <path
    name="gethae"
    type="cover"
    d="M565 183 559 178 562 173 562 169 559 168 560 166 562 166 562 163 560 160 564 158 557 158 509 171 504 189 496 201 495 207 491 212 492 217 523 211 533 220 546 204 546 184 565 183"></path>
    <path
    name="tomi"
    type="coastal"
    d="M546 204 565 204 579 204 575 182 565 183 546 184 546 204"></path>
    <path
    name="tomi"
    type="cover"
    d="M565 204 562 193 564 193 565 191 568 191 565 183 546 184 546 204 565 204"></path>
    <path
    name="pannonia"
    type="coastal"
    d="M373 190 362 216 364 224 366 229 375 247 393 249 397 243 400 233 437 236 442 216 423 188 373 190"></path>
    <path
    name="pannonia"
    type="cover"
    d="M397 243 392 238 391 242 388 242 387 234 383 234 383 238 381 241 373 236 374 230 372 228 366 229 364 224 362 216 373 190 423 188 442 216 437 236 400 233 397 243"></path>
    <path
    name="salonae"
    type="coastal"
    d="M393 249 420 264 451 271 448 263 437 236 400 233 397 243 393 249"></path>
    <path
    name="salonae"
    type="cover"
    d="M448 263 443 261 443 264 432 261 435 259 425 256 421 257 420 259 416 257 414 254 403 252 401 249 406 248 397 243 400 233 437 236 448 263"></path>
    <path
    name="illyricum"
    type="coastal"
    d="M451 271 470 283 473 273 478 258 478 231 475 222 458 211 442 216 437 236 448 263 451 271"></path>
    <path
    name="illyricum"
    type="cover"
    d="M473 273 469 270 460 267 456 265 452 265 448 263 437 236 442 216 458 211 475 222 478 231 478 258 473 273"></path>
    <path
    name="moresia"
    type="land"
    d="M478 231 501 236 508 235 511 238 522 239 539 238 533 220 523 211 492 217 475 222 478 231"></path>
    <path
    name="odessus"
    type="coastal"
    d="M539 238 563 237 573 232 587 225 579 204 565 204 546 204 533 220 539 238"></path>
    <path
    name="odessus"
    type="cover"
    d="M573 232 572 230 567 230 565 227 568 223 565 219 563 215 568 212 565 208 565 204 546 204 533 220 539 238 563 237 573 232"></path>
    <path
    name="paeonia"
    type="land"
    d="M478 258 483 260 486 258 494 261 502 256 507 257 511 254 515 254 524 250 522 239 511 238 508 235 501 236 478 231 478 258"></path>
    <path
    name="apollionia"
    type="coastal"
    d="M470 283 469 291 484 300 486 298 487 296 501 281 498 276 498 270 495 266 494 261 486 258 483 260 478 258 473 273 470 283"></path>
    <path
    name="apollionia"
    type="cover"
    d="M487 296 485 294 485 291 483 290 483 287 476 279 477 277 477 275 473 273 478 258 483 260 486 258 494 261 495 266 498 270 498 276 501 281 487 296"></path>
    <path
    name="macedonia"
    type="land"
    d="M501 281 511 283 520 281 529 263 524 250 515 254 511 254 507 257 502 256 494 261 495 266 498 270 498 276 501 281"></path>
    <path
    name="thrace"
    type="coastal"
    d="M529 263 544 268 551 270 558 266 563 265 563 262 563 237 539 238 522 239 524 250 529 263"></path>
    <path
    name="thrace"
    type="cover"
    d="M544 268 546 266 550 266 552 262 553 263 561 263 563 262 563 237 539 238 522 239 524 250 529 263 544 268"></path>
    <path
    name="byzantium"
    type="coastal"
    d="M563 265 565 265 572 271 576 267 582 260 599 247 596 236 595 226 590 226 587 225 573 232 563 237 563 262 563 265"></path>
    <path
    name="byzantium"
    type="cover"
    d="M563 262 566 262 568 259 572 259 572 262 571 263 571 266 575 265 581 258 581 252 584 248 589 248 589 245 596 245 596 241 593 240 583 240 579 237 578 234 575 233 573 232 563 237 563 262"></path>
    <path
    name="epirus"
    type="coastal"
    d="M486 298 510 311 511 307 511 302 513 299 517 299 517 297 514 292 511 283 501 281 487 296 486 298"></path>
    <path
    name="epirus"
    type="cover"
    d="M511 307 510 306 507 306 506 304 503 304 500 301 498 301 497 299 494 299 489 296 487 296 501 281 511 283 514 292 517 297 517 299 513 299 511 302 511 307"></path>
    <path
    name="thessaly"
    type="coastal"
    d="M520 281 529 284 545 290 550 292 551 299 545 299 541 299 536 299 535 297 532 297 531 299 529 299 525 299 523 298 520 298 520 299 517 299 517 297 514 292 511 283 520 281"></path>
    <path
    name="thessaly"
    type="cover"
    d="M541 299 542 297 546 297 545 294 541 294 539 293 535 293 533 290 531 288 529 284 520 281 511 283 514 292 517 297 517 299 520 299 520 298 523 298 525 299 529 299 531 299 532 297 535 297 536 299 541 299"></path>
    <path
    name="thessalonica"
    type="coastal"
    d="M551 299 570 299 561 284 551 270 544 268 529 263 520 281 529 284 545 290 550 292 551 299"></path>
    <path
    name="thessalonica"
    type="cover"
    d="M544 268 543 270 540 270 539 272 540 274 546 274 547 275 551 275 552 276 552 278 550 278 548 277 542 277 542 278 547 279 550 281 552 283 550 284 548 283 546 281 541 280 542 281 545 282 545 285 543 285 539 283 536 282 535 279 534 278 532 279 530 281 529 284 520 281 529 263 544 268"></path>
    <path
    name="aetolia"
    type="coastal"
    d="M511 307 510 311 508 316 509 323 511 330 512 337 522 330 521 327 521 322 530 314 530 305 529 303 529 299 525 299 523 298 520 298 520 299 517 299 513 299 511 302 511 307"></path>
    <path
    name="aetolia"
    type="cover"
    d="M511 307 514 308 514 311 513 311 513 314 511 316 510 320 515 327 520 327 521 327 521 322 530 314 530 305 529 303 529 299 525 299 523 298 520 298 520 299 517 299 513 299 511 302 511 307"></path>
    <path
    name="boeotia"
    type="coastal"
    d="M530 314 534 314 537 316 545 316 559 318 564 315 566 311 559 309 553 309 552 308 546 308 543 305 543 302 544 301 545 299 541 299 536 299 535 297 532 297 531 299 529 299 529 303 530 305 530 314"></path>
    <path
    name="boeotia"
    type="cover"
    d="M564 315 561 313 556 313 554 311 550 311 548 310 544 310 537 309 539 306 537 302 541 301 541 299 536 299 535 297 532 297 531 299 529 299 529 303 530 305 530 314 534 314 537 316 545 316 559 318 564 315"></path>
    <path
    name="samnium"
    type="coastal"
    d="M392 282 398 285 413 293 439 303 445 293 448 288 428 280 400 269 396 275 392 282"></path>
    <path
    name="samnium"
    type="cover"
    d="M396 275 402 279 405 279 408 284 419 285 422 286 431 284 435 286 432 289 433 291 437 291 438 293 445 293 439 303 413 293 398 285 392 282 396 275"></path>
    <path
    name="neapolis"
    type="coastal"
    d="M398 285 413 293 426 298 421 309 417 318 387 309 390 303 398 285"></path>
    <path
    name="neapolis"
    type="cover"
    d="M390 303 394 305 396 303 401 303 411 308 421 309 426 298 413 293 398 285 390 303"></path>
    <path
    name="campania"
    type="coastal"
    d="M439 303 453 308 477 318 472 353 466 358 460 359 456 354 446 336 446 331 441 325 417 318 421 309 426 298 439 303"></path>
    <path
    name="campania"
    type="cover"
    d="M421 309 426 312 426 316 431 316 432 318 435 318 436 317 440 317 445 324 448 325 448 328 453 332 453 335 451 336 451 339 453 341 454 346 457 347 458 349 460 349 462 347 461 344 461 339 462 337 461 335 464 330 468 330 468 327 467 326 465 321 461 321 459 319 456 320 452 316 453 314 453 308 439 303 426 298 421 309"></path>
    <path
    name="tarentum"
    type="coastal"
    d="M439 303 445 293 448 288 469 291 484 300 485 308 489 314 483 314 477 318 453 308 439 303"></path>
    <path
    name="tarentum"
    type="cover"
    d="M453 308 454 304 464 304 466 303 470 306 470 308 476 308 476 302 471 298 467 298 466 296 459 296 456 294 448 294 445 293 439 303 453 308"></path>
    <path
    name="ithaca"
    type="coastal"
    d="M511 330 495 329 493 326 489 314 485 308 484 300 486 298 510 311 508 316 509 323 511 330"></path>
    <path
    name="ithica"
    type="cover"
    d="M503 316 506 314 506 310 503 309 500 310 499 313 503 316M497 310 491 307 490 305 494 305 498 307 499 309 497 310"></path>
    <path
    name="panormus"
    type="coastal"
    d="M410 379 441 384 438 370 436 362 430 359 428 354 424 342 404 347 401 351 396 364 410 379"></path>
    <path
    name="panormus"
    type="cover"
    d="M438 370 429 367 428 369 424 368 422 367 420 367 415 366 414 367 408 363 408 358 412 354 416 355 418 352 422 354 426 355 428 354 430 359 436 362 438 370"></path>
    <path
    name="syracuse"
    type="coastal"
    d="M441 384 459 386 466 378 468 372 460 359 456 354 451 356 436 362 438 370 441 384"></path>
    <path
    name="syracuse"
    type="cover"
    d="M451 356 452 360 455 362 459 364 460 366 456 366 456 369 457 373 455 374 452 373 451 374 449 374 447 372 444 372 443 370 438 370 436 362 451 356"></path>
    <path
    name="milazzo"
    type="coastal"
    d="M451 356 456 354 446 336 424 342 428 354 430 359 436 362 451 356"></path>
    <path
    name="milazzo"
    type="cover"
    d="M451 356 450 347 447 344 444 346 440 349 437 349 436 352 432 353 428 354 430 359 436 362 451 356"></path>
    <path
    name="phocis"
    type="coastal"
    d="M522 330 527 327 534 325 551 324 557 324 559 318 545 316 537 316 534 314 530 314 521 322 521 327 522 330"></path>
    <path
    name="phocis"
    type="cover"
    d="M521 327 524 326 527 324 532 322 537 322 544 320 555 320 555 322 552 322 551 324 557 324 559 318 545 316 537 316 534 314 530 314 521 322 521 327"></path>
    <path
    name="peloponnesos"
    type="coastal"
    d="M527 327 528 328 539 343 541 363 542 374 518 373 513 372 510 369 512 337 522 330 527 327"></path>
    <path
    name="peloponnesos"
    type="cover"
    d="M528 328 527 331 525 334 520 334 517 339 517 346 522 345 524 348 529 348 534 351 532 355 533 358 537 359 541 363 539 343 528 328"></path>
    <path
    name="chalcis"
    type="coastal"
    d="M566 311 568 309 573 304 576 302 570 299 551 299 545 299 544 301 543 302 543 305 546 308 552 308 553 309 559 309 566 311"></path>
    <path
    name="chalcis"
    type="cover"
    d="M568 309 567 308 562 308 559 306 555 306 553 305 551 306 549 306 547 304 547 302 549 301 553 301 555 302 561 302 563 303 570 303 571 302 573 304 568 309"></path>
    <path
    name="corinth"
    type="coastal"
    d="M539 343 548 335 558 330 557 324 551 324 534 325 527 327 528 328 528 328 539 343"></path>
    <path
    name="corinth"
    type="cover"
    d="M548 335 558 330 557 324 551 324 552 326 554 327 553 329 550 329 549 328 528 328 539 343 548 335"></path>
    <path
    name="sparta"
    type="coastal"
    d="M548 335 558 350 571 353 582 356 578 371 560 373 542 374 541 363 539 343 548 335"></path>
    <path
    name="sparta"
    type="cover"
    d="M571 353 572 356 578 360 578 362 574 362 570 359 564 357 562 359 564 367 562 367 560 363 554 359 552 359 550 357 547 359 547 361 550 365 547 365 544 364 541 363 539 343 548 335 558 350 571 353"></path>
    <path
    name="argos"
    type="coastal"
    d="M571 353 582 356 585 343 586 338 583 338 563 331 558 330 548 335 558 350 571 353"></path>
    <path
    name="argos"
    type="cover"
    d="M571 353 571 351 564 348 556 339 557 338 564 339 566 343 571 340 569 335 565 335 562 332 563 331 558 330 548 335 558 350 571 353"></path>
    <path
    name="athens"
    type="coastal"
    d="M586 338 589 325 577 318 566 311 564 315 559 318 557 324 558 330 563 331 583 338 586 338"></path>
    <path
    name="athens"
    type="cover"
    d="M563 331 561 329 560 327 564 324 579 329 581 325 573 319 568 314 564 315 559 318 557 324 558 330 563 331"></path>
    <path
    name="tripoli"
    type="coastal"
    d="M477 480 525 474 524 452 524 441 499 430 423 428 421 435 435 446 477 480"></path>
    <path
    name="tripoli"
    type="cover"
    d="M524 452 514 455 501 454 493 445 484 442 443 447 435 446 477 480 525 474 524 452"></path>
    <path
    name="tripolitania"
    type="land"
    d="M463 552 588 552 582 485 525 474 477 480 459 502 463 552"></path>
    <path
    name="alani"
    type="coastal"
    d="M604 40 619 0 713 0 749 35 755 41 748 62 731 73 684 101 659 108 642 107 618 90 604 40"></path>
    <path
    name="alani"
    type="cover"
    d="M749 35 743 46 734 52 731 73 684 101 659 108 642 107 618 90 604 40 619 0 713 0 749 35"></path>
    <path
    name="maeotia"
    type="coastal"
    d="M642 107 638 113 639 120 634 123 626 136 608 138 598 140 598 136 595 131 591 101 618 90 642 107"></path>
    <path
    name="maeotia"
    type="cover"
    d="M634 123 631 122 634 120 635 114 630 113 630 116 625 116 623 121 617 123 613 131 609 132 608 138 598 140 598 136 595 131 591 101 618 90 642 107 638 113 639 120 634 123"></path>
    <path
    name="crimea"
    type="coastal"
    d="M598 140 608 138 626 136 633 160 622 179 613 182 586 172 583 164 590 153 598 140"></path>
    <path
    name="crimea"
    type="cover"
    d="M608 138 604 144 604 147 609 149 608 150 598 148 598 151 615 153 621 151 626 148 627 153 621 155 620 162 615 163 615 173 610 175 606 168 592 167 596 155 590 153 598 140 608 138"></path>
    <path
    name="black sea"
    type="water"
    d="M595 226 606 223 616 210 641 191 665 189 698 173 696 165 668 160 633 160 622 179 613 182 586 172 575 182 579 204 587 225 590 226 595 226"></path>
    <text name="black sea" x="633" y="186">Black Sea</text>
    <path
    name="troy"
    type="coastal"
    d="M606 223 613 234 622 250 607 260 604 265 588 276 584 280 579 281 572 284 569 281 571 277 572 271 576 267 582 260 599 247 596 236 595 226 606 223"></path>
    <path
    name="troy"
    type="cover"
    d="M613 234 607 236 606 239 600 240 601 245 605 245 608 242 611 242 610 246 607 246 601 251 604 252 604 255 600 255 597 258 593 257 594 260 588 260 586 262 579 266 576 272 579 279 588 276 604 265 607 260 622 250 613 234"></path>
    <path
    name="lesbos"
    type="coastal"
    d="M569 281 561 284 551 270 558 266 563 265 565 265 572 271 571 277 569 281"></path>
    <path
    name="lesbos"
    type="cover"
    d="M562 279 565 277 565 275 560 275 560 279 562 279 562 279M565 272 561 272 560 267 565 267 565 272 565 272"></path>
    <path
    name="agean sea"
    type="water"
    d="M572 284 582 300 588 304 596 304 605 304 621 317 627 324 628 329 623 333 593 313 576 302 570 299 561 284 569 281 572 284"></path>
    <path
    name="eretria"
    type="coastal"
    d="M566 311 577 318 589 325 593 313 576 302 573 304 568 309 566 311"></path>
    <path
    name="eretria"
    type="cover"
    d="M573 304 578 306 581 310 585 310 590 315 585 316 580 313 573 312 572 310 569 310 568 309 573 304"></path>
    <path
    name="adriatic sea"
    type="water"
    d="M375 247 393 249 420 264 451 271 470 283 469 291 448 288 428 280 400 269 381 258 375 247"></path>
    <path
    name="thera"
    type="coastal"
    d="M623 333 593 313 589 325 586 338 585 343 599 344 605 341 623 333"></path>
    <path
    name="thera"
    type="cover"
    d="M608 337 611 333 608 329 602 329 598 333 602 337 608 337M600 326 602 326 602 324 600 321 597 321 597 324 600 326M595 324 597 329 597 332 592 329 592 324 595 324"></path>
    <path
    name="phaestos"
    type="coastal"
    d="M605 341 607 346 610 353 614 361 592 368 578 371 582 356 585 343 599 344 605 341"></path>
    <path
    name="phaestos"
    type="cover"
    d="M607 346 600 347 599 350 594 347 593 350 588 350 586 352 587 355 589 357 596 356 597 354 603 353 608 355 610 353 607 346"></path>
    <path
    name="knossos"
    type="coastal"
    d="M614 361 636 354 640 349 644 337 628 329 623 333 605 341 607 346 610 353 614 361"></path>
    <path
    name="knossos"
    type="cover"
    d="M610 353 627 345 633 341 630 339 617 342 615 345 607 346 610 353"></path>
    <path
    name="centra mediterranean"
    type="water"
    d="M592 368 598 386 558 396 553 436 524 441 499 430 423 428 409 394 410 379 441 384 459 386 466 378 468 372 460 359 466 358 472 353 477 318 483 314 489 314 493 326 495 329 511 330 512 337 510 369 513 372 518 373 542 374 560 373 578 371 592 368"></path>
    <text name="centra mediterranean" x="494" y="400">Centra Mediterranean</text>
    <path
    name="libya"
    type="coastal"
    d="M553 436 577 441 597 446 582 485 525 474 524 452 524 441 553 436"></path>
    <path
    name="libya"
    type="cover"
    d="M577 441 577 452 573 453 569 457 566 459 560 459 555 456 552 456 549 454 534 453 530 452 524 452 525 474 582 485 597 446 577 441"></path>
    <path
    name="jalo"
    type="land"
    d="M597 446 619 430 662 426 689 437 698 473 693 552 588 552 582 485 597 446"></path>
    <g id="the-sign"></g>
    <text name="jalo" x="640" y="485">Jalo</text>
    <text name="libya" x="557" y="460">Libya</text>
    <text name="phaestos" x="595" y="354">Phaestos</text>
    <text name="knossos" x="621" y="345">Knossos</text>
    <text name="thera" x="602" y="334">Thera</text>
    <text name="adriatic sea" x="427" y="274">Adriatic Sea</text>
    <text name="agean sea" x="600" y="308">Agean Sea</text>
    <text name="eretria" x="578" y="316">Eretria</text>
    <text name="Lesbos" x="561" y="273">Lesbos</text>
    <text name="thessalonica" x="537" y="281">Thessalonica</text>
    <text name="troy" x="597" y="256">Troy</text>
    <text name="crimea" x="604" y="158">Crimea</text>
    <text name="maeotia" x="611" y="113">Maeotia</text>
    <text name="alain" x="670" y="42">Alani</text>
    <text name="tripolitania" x="513" y="511">Tripolitania</text>
    <text name="tripoli" x="476" y="454">Tripoli</text>
    <text name="athens" x="569" y="324">Athens</text>
    <text name="argos" x="567" y="345">Argos</text>
    <text name="sparta" x="558" y="358">Sparta</text>
    <text name="peloponnesos" x="525" y="350">Peloponnesos</text>
    <text name="boeotia" x="542" y="313">Boeotia</text>
    <text name="corinth" x="537" y="332">Corinth</text>
    <text name="chalcis" x="557" y="304">Chalcis</text>
    <text name="phocis" x="538" y="322">Phocis</text>
    <text name="milazzo" x="438" y="351">Milazzo</text>
    <text name="syracuse" x="453" y="368">Syracuse</text>
    <text name="panormus" x="413" y="363">Panormus</text>
    <text name="ithica" x="493" y="314">Ithica</text>
    <text name="tarentum" x="460" y="301">Tarentum</text>
    <text name="campania" x="444" y="320">Campania</text>
    <text name="neopolis" x="405" y="299">Neapolis</text>
    <text name="samnium" x="417" y="288">Samnium</text>
    <text name="aetolia" x="518" y="306">Aetolia</text>
    <text name="macedonia" x="510" y="266">Macedonia</text>
    <text name="thessaly" x="528" y="291">Thessaly</text>
    <text name="epirus" x="502" y="294">Epirus</text>
    <text name="byzantium" x="578" y="245">Byzantium</text>
    <text name="thrace" x="543" y="251">Thrace</text>
    <text name="apollionia" x="486" y="274">Apollionia</text>
    <text name="paeonia" x="499" y="247">Paeonia</text>
    <text name="odessus" x="556" y="218">Odessus</text>
    <text name="moresia" x="507" y="224">Moresia</text>
    <text name="illyricum" x="458" y="240">Illyricum</text>
    <text name="salonae" x="419" y="247">Salonae</text>
    <text name="pannnonia" x="399" y="212">Pannonia</text>
    <text name="tomi" x="562" y="195">Tomi</text>
    <text name="gethae" x="525" y="188">Gethae</text>
    <text name="scythia" x="550" y="128">Scythia</text>
    <text name="dacia" x="476" y="185">Dacia</text>
    <text name="upper danube" x="395" y="163">Upper Danube</text>
    <text name="sudeten" x="465" y="133">Sudeten</text>
    <text name="eastern sarmatia" x="570" y="61">Eastern Sarmatia</text>
    <text name="western sarmatia" x="486" y="60">Western Sarmatia</text>
    <text name="lugia" x="405" y="82">Lugia</text>
    <text name="northern wastes" x="464" y="16">Northern Wastes</text>
    <text name="rome" x="368" y="284">Rome</text>
    <text name="rubicon" x="370" y="264">Rubicon</text>
    <text name="upper rhine" x="288" y="197">Upper Rhine</text>
    <text name="noricum" x="334" y="205">Noricum</text>
    <text name="cisalpina" x="314" y="230">Cisalpina</text>
    <text name="etruria" x="326" y="253">Etruria</text>
    <text name="corsica" x="330" y="294">Corsica</text>
    <text name="sardinia" x="338" y="324">Sardinia</text>
    <text name="caralis" x="344" y="343">Caralis</text>
    <text name="sabrata" x="423" y="462">Sabrata</text>
    <text name="sahara" x="400" y="515">Sahara</text>
    <text name="eastern getules" x="270" y="512">Eastern Getules</text>
    <text name="tunisia" x="358" y="452">Tunisia</text>
    <text name="thapsus" x="396" y="417">Thapsus</text>
    <text name="carthage" x="384" y="389">Carthage</text>
    <text name="numidia" x="352" y="397">Numidia</text>
    <text name="citra" x="318" y="420">Citra</text>
    <text name="eastern mauretania" x="229" y="450">Eastern Mauretania</text>
    <text name="western mauretania" x="110" y="463">Western Mauretania</text>
    <text name="central mauretania" x="177" y="474">Central Mauretania</text>
    <text name="getules" x="108" y="522">Getules</text>
    <text name="western mediterranean" x="290" y="375">Western Mediterranean</text>
    <text name="baleares" x="260" y="349" >Baleares</text>
    <text name="ebusus" x="236" y="361">Ebusus</text>
    <text name="carthago nova" x="200" y="367">Carthago Nova</text>
    <text name="carthaginensis" x="171" y="342">Carthaginensis</text>
    <text name="iberus" x="215" y="335">Iberus</text>
    <text name="caesaraugustanus" x="176" y="299">Caesaraugustanus</text>
    <text name="emeritensis" x="116" y="367">Emeritensis</text>
    <text name="corduba" x="149" y="397">Corduba</text>
    <text name="lusitania" x="67" y="393">Lusitania</text>
    <text name="cluniensis" x="115" y="312">Cluniensis</text>
    <text name="eastern atlantic ocean" x="42" y="188">Eastern Atlantic Ocean</text>
    <text name="bay of biscay" x="87" y="247">Bay of Biscay</text>
    <text name="massillia" x="295" y="276">Massillia</text>
    <text name="aquae sextiae" x="256" y="285">Aquae Sextiae</text>
    <text name="narbo" x="229" y="303">Narbo</text>
    <text name="germania" x="264" y="207">Germania</text>
    <text name="alesia" x="234" y="214">Alesia</text>
    <text name="aquintania" x="198" y="252">Aquintania</text>
    <text name="lugdunensis" x="159" y="210">Lugdunensis</text>
    <text name="belgica" x="215" y="167">Belgica</text>
    <text name="germania inferior" x="230" y="135" >Germania Inferior</text>
    <text name="germania magna" x="316" y="129" >Germania Magna</text>
    <text name="ultima thule" x="260" y="20">Ultima Thule</text>
    <text name="north sea" x="184" y="79" >North Sea</text>
    <text name="dyfed" x="112" y="153">Dyfed</text>
    <text name="caledonia" x="94" y="78">Caledonia</text>
    <text name="northern atlantic ocean" x="85" y="20">Northern Atlantic Ocean</text>
    <text name="hibernia" x="57" y="127">Hibernia</text>
    <text name="britannia" x="115" y="125">Britannia</text>
    <text name="londinium" x="132" y="176">Londinium</text>
</svg>

<script>
    const map = document.getElementById('mapSVG');
    const paths = Array.from(map.getElementsByTagName('path'));

    const mapWidth = 1600;
    const mapHeight = 552;

    const scaleMin = 1;
    const scaleMax = 10;
    let scale = 1;

    let mx = 0;
    let my = 0;

    let moving = false;
    let clicking = false;

    const handleMouseDownPath = (event) => {
        if (clicking) {
            const selected = document.querySelector('path[selected]');
            const path = event.target;
            const newPath = path.cloneNode(false);
            const sign = document.getElementById('the-sign');
            newPath.setAttribute('selected', '');
            newPath.addEventListener('mouseup', handleMouseDownPath, false);
            if (selected?.getAttribute('name')!==path.getAttribute('name')) {map.insertBefore(newPath, sign)};
            selected?.remove();
        };
    };

    const handleMouseLeave = () => {        
        const path = event.target;
        path.remove()
    };

    const handleMouseEnter = (event) => {
        const hovered = document.querySelector('path[hovered]');
        const path = event.target;
        const newPath = path.cloneNode(false);
        const sign = document.getElementById('the-sign');
        hovered?.remove();
        newPath.addEventListener('mouseout', handleMouseLeave, false);
        newPath.setAttribute('hovered', '');
        map.insertBefore(newPath, sign)
        
    };

    paths.forEach(path => {
        path.addEventListener('mouseup', handleMouseDownPath, false);
        path.addEventListener('mouseover', handleMouseEnter, false);
    });

    const changeElem = (elem, attr, value) => {
        elem.attributes[attr].value = value;
    };

    const handleScroll = (event) => {
        const scaleDelta = event.deltaY<0? 1: -1
        const scaleTarget = scale + scaleDelta;
        if (scaleTarget<scaleMax&&scaleTarget>=scaleMin) {
            const tx = event.clientX;
            const ty = event.clientY;
            const boardWidth = window.document.body.offsetWidth;
            const boardHeight = window.document.body.offsetHeight;
            mx = mapWidth*(1-1/scaleTarget);
            scale = scaleTarget;
            changeElem(map, 'transform', `translate(${mx} ${my}) scale(${scale})`)
        };
    };

    const handleMouseDown = (event) => {
        clicking = true;
        moving = true;
    };

    const handleMouseMove = (event) => {
        clicking = false;
        if (moving) {
            const dx = event.movementX;
            const dy = event.movementY;
            if (true) {
                mx = mx + dx;
                my = my + dy;
                changeElem(map, 'transform', `translate(${mx} ${my}) scale(${scale})`);
            };
        };
    };

    const handleMouseUp = (event) => {
        clicking = false;
        moving = false;
    };
    
    const handleMouseLeaveMap = (event) => {
        moving = false;
    }
</script>

